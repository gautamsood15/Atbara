<!doctype html>
<html lang="en">
    {% load static %}
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'css/index.css' %}">
    <link rel="icon" href="{% static 'images/favicon.webp' %}" type="image/webp">
    <title>Atbara</title>
  </head>
  <body>
    
    <nav class="navbar">
      <div class="first">
        <div class="hamburger">
          <svg
            viewBox="0 0 24 24"
            preserveAspectRatio="xMidYMid meet"
            focusable="false"
            class="style-scope yt-icon"
            style="pointer-events: none; display: block; width: 100%; height: 100%"
          >
            <g class="style-scope yt-icon">
              <path
                d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"
                class="style-scope yt-icon"
              ></path>
            </g>
          </svg>
        </div>
        <div class="logo" style="display: inline-flex;" >
          <img src="{% static 'images/favicon.webp' %}"  style="width: 60px; height: 60px;" alt="">
          <h1 style="padding-top: 5px; color:rgb(0, 0, 80) ; font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;">Atbara</h1>
        </div>
      </div>
      <div class="second">
        <input type="text" placeholder="Search" class="search" style="width: 600px; height: 40px;"/>
        <button class="btn btn-secondary" style="width: 80px; height: 40px; background-color: white;">
          <img src="{% static 'images/search.png' %}" alt="" style="width: 35px; height: 50px; border: 1em; padding-bottom: 25px;">
        </button>
      </div>
      <div class="third">
          {% if success%}
          <a href="{% url 'uploadvideo' %}">
        <svg
          viewBox="0 0 24 24"
          preserveAspectRatio="xMidYMid meet"
          focusable="false"
          class="style-scope yt-icon"
          style="pointer-events: none; display: block; width: 100%; height: 100%"
        >
          <g class="style-scope yt-icon">
            <path
              d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4zM14 13h-3v3H9v-3H6v-2h3V8h2v3h3v2z"
              class="style-scope yt-icon"
            ></path>
          </g>
        </svg> 
        </a>
    {%endif%}
        <svg
          viewBox="0 0 24 24"
          preserveAspectRatio="xMidYMid meet"
          focusable="false"
          class="style-scope yt-icon"
          style="pointer-events: none; display: block; width: 100%; height: 100%"
        >
          <g class="style-scope yt-icon">
            <path
              d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"
              class="style-scope yt-icon"
            ></path>
          </g>
        </svg>
        <img style="width: 35px; height: 35px;"
          src="{% static 'images/img.jpg' %}"
          alt=""
          class="channel"
          id="drop"
        />
        <ul class="dropdown">
          <a href="{% url 'youtuber' %}">
          <li>
          
            
              Became A Youtuber
            
          </li>
          </a> 
        </ul>
      </div>
    </nav>








<br>
<br>















    <h1  class="text-center" style="color:rgb(44, 44, 100);">Create an Atbara Channel</h1>
    <h1 id="yt" class="text-primary text-center"></h1>
<br>

    <div class="container">
      <div class="col-md-4 offset-md-4">


    <form  action="{% url 'create_channel' %}" method="POST">
      {% csrf_token %}
  <div class="mb-3">
    <label for="exampleInputEmail1" class="form-label">Channel Name</label>
    <input type="text"  class="form-control" id="channelname" aria-describedby="emailHelp">

  </div>
  <div class="mb-3">
    <label for="exampleInputPassword1" class="form-label">Channel Image</label>
    <input type="file" class="form-control" id="file">
  </div>
  <button type="submit"  class="btn btn-info" style="color: white; background-color: rgb(0, 0, 80); border-color: rgb(44, 44, 100);">Create Channel</button>
</form>

</div></div>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" integrity="sha384-eMNCOe7tC1doHpGoWe/6oMVemdAVTMs2xqW4mwXrXsW0L84Iytr2wi5v2QjrP/xp" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.min.js" integrity="sha384-cn7l7gDp0eyniUwwAZgrzD06kc/tftFf19TOAs2zVinnD/C7E91j9yyk5//jjpt/" crossorigin="anonymous"></script>
    
    <script>
      const form = document.querySelector("form");
      form.addEventListener('submit',(e) =>{
        e.preventDefault()
        const newform = new FormData()
        const file = document.getElementById("file").files[0];
        const channelname = document.getElementById("channelname").value;
        const csrf = document.getElementsByName("csrfmiddlewaretoken")[0].value;
        newform.append('csrfmiddlewaretoken',csrf)
        newform.append('file',file)
        newform.append('channelname',channelname)
        fetch('{% url "create_channel" %}',{
          method:'POST',
          body:newform

        }).then(data => data.json()).then(txt =>{
          const yt = document.getElementById("yt");
          yt.innerHTML = "NOW YOU ARE A YOUTHOOBER"
          window.location.href = `http://127.0.0.1:8000/${txt.link}`
        
      })
    })
    </script>
  </body>
</html>